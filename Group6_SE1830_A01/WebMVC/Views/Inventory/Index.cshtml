@model ICollection<BLL.BusinessObjects.ViewInventory>
@{
    ViewBag.Title = "Danh sách xe";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .inv-container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 14px;
        color: #0f172a;
        box-sizing: border-box;
    }

    .inv-title {
        font-size: 22px;
        font-weight: 600;
        margin: 6px 0 16px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .inv-table {
        width: 100%;
        border-collapse: collapse;
        background: #ffffff;
        box-shadow: 0 4px 12px rgba(15, 23, 42, 0.06);
        border-radius: 8px;
        overflow: hidden;
    }

        .inv-table th {
            background: #f1f5f9;
            text-align: left;
            padding: 10px 12px;
            font-size: 13px;
            color: #475569;
        }

        .inv-table td {
            padding: 10px 12px;
            border-top: 1px solid #e2e8f0;
            font-size: 14px;
            color: #334155;
            vertical-align: middle;
        }

        .inv-table tr:hover {
            background: #f9fafb;
        }

    .inv-btn {
        display: inline-block;
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 14px;
        font-weight: 500;
        text-decoration: none;
        color: #ffffff;
        background: #2563eb;
        cursor: pointer;
        border: none;
        margin-top: 14px;
    }

        .inv-btn:hover {
            background: #1d4ed8;
        }

    .qty-input {
        width: 80px;
        padding: 5px;
        font-size: 13px;
        border: 1px solid #cbd5e1;
        border-radius: 4px;
        text-align: center;
    }
</style>

<div class="inv-container">
    <h2 class="inv-title">
        Danh sách xe
    </h2>

    <form asp-action="UpdateAllQuantities" asp-controller="Inventory" method="post">
        <table class="inv-table">
            <thead>
                <tr>
                    <th>Model</th>
                    <th>Phiên bản</th>
                    <th>Màu</th>
                    <th>Quãng đường (Km)</th>
                    <th>Số chỗ</th>
                    <th>Giá</th>
                    <th>Số lượng</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.Count; i++)
                {
                    var item = Model.ElementAt(i);
                    <tr>
                        <td>@item.ModelName</td>
                        <td>@item.VersionName</td>
                        <td>@item.ColorName</td>
                        <td>@item.RangeKm</td>
                        <td>@item.Seat</td>
                        <td>@item.BasePrice.ToString("N0") ₫</td>
                        <td>
                            <input type="hidden" name="updates[@i].InvetoryId" value="@item.InventoryId" />
                            <input type="number" name="updates[@i].Quantity" min="0" value="@item.Quantity" class="qty-input" oninput="if(this.value<0) this.value=0;" />
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <button type="submit" class="inv-btn">💾 Lưu tất cả</button>
    </form>
</div>
